<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="ETH中的节点和客户端简介, 立身于大雪弥漫、浓雾障眼的山口，只能偶尔瞥见未必正确的路径，只需睁大双眼，昂起头颅，走好脚下的路，不管它通向何方。">
    <meta name="description" content="以太坊是一个由计算机组成的分布式网络，这些计算机运行可验证区块和交易数据的软件，称为节点。 该软件必须在你的计算机上运行，才能将其转化为以太坊节点。 一个节点由两个独立的软件（名为“客户端”）构成。
什么是节点和客户端？“节点”是指任何以太">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="white"/>
    <title>ETH中的节点和客户端简介 | Sparks Fly</title>
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <style type="text/css">
        
        code[class*="language-"], pre[class*="language-"] {
            white-space: pre !important;
        }

        
    </style>
    <script src="/libs/jquery/jquery.min.js"></script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Sparks Fly" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                        <img src="/apple-touch-icon.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Sparks Fly</span>
                </a>
            </div>
            


<!-- <a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul> -->

<!-- 支持二级菜单特性 -->
<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right nav-menu">
    
        <li class="hide-on-med-and-down nav-item">

            
                <a href="/" class="waves-effect waves-light">
                    
                        <i class="fa fa-home"></i>
                    
                    <span>首页</span>
                </a>

            
        </li>
    
        <li class="hide-on-med-and-down nav-item">

            
                <a href="/categories" class="waves-effect waves-light">
                    
                        <i class="fa fa-bookmark"></i>
                    
                    <span>分类</span>
                </a>

            
        </li>
    
        <li class="hide-on-med-and-down nav-item">

            
                <a href="/archives" class="waves-effect waves-light">
                    
                        <i class="fa fa-archive"></i>
                    
                    <span>归档</span>
                </a>

            
        </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
            <img src="/medias/avatars/avatar.png"
                 class="logo-img circle responsive-img">
        
        <div class="logo-name">Sparks Fly</div>
        <div class="logo-desc">
            
                Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
            <li class="m-nav-item">
                
                    <a href="/" class="waves-effect waves-light">
                        
                            <i class="fa fa-fw fa-home"></i>
                        
                        首页
                    </a>
                
            </li>
        
            <li class="m-nav-item">
                
                    <a href="/categories" class="waves-effect waves-light">
                        
                            <i class="fa fa-fw fa-bookmark"></i>
                        
                        分类
                    </a>
                
            </li>
        
            <li class="m-nav-item">
                
                    <a href="/archives" class="waves-effect waves-light">
                        
                            <i class="fa fa-fw fa-archive"></i>
                        
                        归档
                    </a>
                
            </li>
        
        
    </ul>
</div>

        </div>

        
    </nav>

</header>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/16.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">ETH中的节点和客户端简介</h1>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
        <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">Awsome</span>
                        </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                        <div class="post-cate">
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                                <a href="/categories/WEB3/" class="post-category">
                                    WEB3
                                </a>
                            
                        </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                    <div class="post-date info-break-policy">
                        <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                        2025-03-05
                    </div>
                

                
                    <div class="post-date info-break-policy">
                        <i class="fa fa-calendar-check-o fa-fw"></i>更新日期:&nbsp;&nbsp;
                        2025-03-05
                    </div>
                

                
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                        10.1k
                    </div>
                

                
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                        35 分
                    </div>
                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>以太坊是一个由计算机组成的分布式网络，这些计算机运行可验证区块和交易数据的软件，称为节点。 该软件必须在你的计算机上运行，才能将其转化为以太坊节点。 一个节点由两个独立的软件（名为“客户端”）构成。</p>
<h2 id="什么是节点和客户端？"><a href="#什么是节点和客户端？" class="headerlink" title="什么是节点和客户端？"></a>什么是节点和客户端？</h2><p>“节点”是指任何以太坊客户端软件的实例，它连接到其他也运行以太坊软件的计算机，形成一个网络。 客户端是以太坊的实现，它根据协议规则验证数据并保持网络安全。 一个节点需要运行两种客户端软件：共识客户端和执行客户端。</p>
<ul>
<li><strong>执行客户端：</strong>（也称为执行引擎、EL 客户端或旧称“以太坊 1”客户端）侦听网络中广播的新交易，并在以太坊虚拟机中执行它们，并保存所有当前以太坊数据的最新状态和数据库。</li>
<li><strong>共识客户端：</strong>（也称为信标节点、CL 客户端或旧称“以太坊 2”客户端）实现权益证明共识算法，使网络能够根据来自执行客户端的经验证数据达成一致。 此外还有名为“验证者”的第三种软件，它们可被添加到共识客户端中，使节点能参与保护网络安全。</li>
</ul>
<p>这些客户端软件相互协作，以追踪以太坊的链头，并允许用户与以太坊网络进行交互。 这种模块化设计称为<a href="https://vitalik.eth.limo/general/2022/02/28/complexity.html">封装复杂性(opens in a new tab)</a>，包含多个协同运作的软件。 此方法让无缝实施<a href="https://ethereum.org/zh/roadmap/merge/">合并</a>变得更简单，客户端软件更易于维护和开发，并且还能重复利用各个客户端（例如在<a href="https://ethereum.org/zh/layer-2/">二层网络生态系统</a>当中）。</p>
<p><a href="https://ethereum.org/content/developers/docs/nodes-and-clients/eth1eth2client.png"><img src="https://ethereum.org/_next/image/?url=%2Fcontent%2Fdevelopers%2Fdocs%2Fnodes-and-clients%2Feth1eth2client.png&amp;w=1920&amp;q=75" alt="关联执行和共识客户端"></a>关联执行与共识客户端的简化图。</p>
<h3 id="客户端多样性"><a href="#客户端多样性" class="headerlink" title="客户端多样性"></a>客户端多样性</h3><p>不同团队开发的各种编程语言中都有<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#execution-clients">执行客户端</a>和<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#consensus-clients">共识客户端</a>。</p>
<p>多种客户端实现减少了对于单一代码库的依赖，使网络更强大。 它的理想目标是实现多样性，即没有任何客户端在网络中占据主导地位，从而排除潜在的单点故障。 语言多样化有助于拓宽开发者社区，并允许他们用自己喜欢的语言创建集成。</p>
<p>了解有关<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/client-diversity/">客户端多样性</a>的更多信息。</p>
<p>这些实现的共同点是它们都遵循同一套规范。 这些规范规定了以太坊网络和区块链如何运作。 此外，它们还定义了每项技术细节，你可以在以下内容中了解这些规范：</p>
<ul>
<li>最初为<a href="https://ethereum.github.io/yellowpaper/paper.pdf">以太坊黄皮书(opens in a new tab)</a></li>
<li><a href="https://github.com/ethereum/execution-specs/">执行规范(opens in a new tab)</a></li>
<li><a href="https://github.com/ethereum/consensus-specs">共识规范(opens in a new tab)</a></li>
<li>在各种<a href="https://ethereum.org/zh/history/">网络升级</a>中实现的<a href="https://eips.ethereum.org/">以太坊改进提案(opens in a new tab)</a></li>
</ul>
<h3 id="跟踪网络中的节点"><a href="#跟踪网络中的节点" class="headerlink" title="跟踪网络中的节点"></a>跟踪网络中的节点</h3><p>多种跟踪器提供以太坊网络中节点的实时概览。 请注意，由于去中心化网络的性质，这些爬虫只能提供有限的网络视图，并且可能会报告不同的结果。</p>
<ul>
<li><a href="https://etherscan.io/nodetracker">节点地图(opens in a new tab)</a>由 Etherscan 区块浏览器提供</li>
<li><a href="https://ethernodes.org/">以太坊节点(opens in a new tab)</a>由 Bitfly 提供</li>
<li><a href="https://www.nodewatch.io/">Nodewatch(opens in a new tab)</a> 由 Chainsafe 提供，爬取共识节点</li>
<li><a href="https://monitoreth.io/">Monitoreth(opens in a new tab)</a> — 由 MigaLabs 开发的分布式网络监测工具</li>
</ul>
<h2 id="节点类型"><a href="#节点类型" class="headerlink" title="节点类型"></a>节点类型</h2><p>如果你想<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/run-a-node/">运行自己的节点</a>，就应该明白节点有几种类型并且使用数据的方式亦不同。 事实上，客户端可以运行三种类型的节点：轻节点、全节点和归档节点。 其他一些不同的同步策略选项还能缩短同步时间。 同步是指节点能以多快的速度获取最新的以太坊状态信息。</p>
<h3 id="全节点"><a href="#全节点" class="headerlink" title="全节点"></a>全节点</h3><p>全节点对区块链进行逐块验证，包括下载和验证每个块的块体和状态数据。 全节点分多种类别——有些全节点从创世区块开始，验证区块链整个历史中的每一个区块。 另一些全节点则从更近期的区块开始验证，而且它们信任这些区块是有效的（如 Geth 的“快照同步”）。 无论验证从哪里开始，全节点只保留相对较新数据的本地副本（通常是最近的 128 个区块），允许删除比较旧的数据以节省磁盘空间。 旧数据可以在需要时重新生成。</p>
<ul>
<li>存储全部区块链数据（会定期修剪，所以全节点并不存储包含创世块在内的所有状态数据）</li>
<li>参与区块验证，验证所有区块和状态。</li>
<li>全节点可以从本地储存中检索所有状态，或从“快照”中重新生成。</li>
<li>为网络提供服务，并应要求提供数据。</li>
</ul>
<h3 id="归档节点"><a href="#归档节点" class="headerlink" title="归档节点"></a>归档节点</h3><p>归档节点是从创世块开始验证每个区块的全节点，它们从不删除任何下载的数据。</p>
<ul>
<li>存储全节点中保存的所有内容，并建立历史状态存档。 如果你想查询区块 #4,000,000 的帐户余额，或者想简单可靠地测试自己的一组交易而不使用跟踪挖掘它们，则需要归档节点。</li>
<li>这些数据以太字节为单位，这使得归档节点对普通用户的吸引力较低，但对于区块浏览器、钱包供应商和链分析等服务来说则很方便。</li>
</ul>
<p>以归档以外的任何方式同步客户端将导致区块链数据被修剪。 这意味着，不存在包含所有历史状态的归档，但全节点能够在需要时构建它们。</p>
<p>了解有关<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/archive-nodes/">归档节点</a>的更多信息。</p>
<h3 id="轻节点"><a href="#轻节点" class="headerlink" title="轻节点"></a>轻节点</h3><p>轻节点只下载区块头，而不会下载每个区块。 这些区块头包含区块内容的摘要信息。 轻节点会向全节点请求其所需的任何其他信息。 然后，轻节点可以根据区块头中的状态根独自验证收到的数据。 轻节点可以让用户加入以太坊网络，无需运行全节点所需的功能强大的硬件或高带宽。 最终，轻节点也许能在手机和嵌入式设备中运行。 轻节点不参与共识（即它们不能成为矿工/验证者），但可以访问功能和安全保障和全节点相同的以太坊区块链。</p>
<p>轻客户端是以太坊积极发展的一个领域，我们预计很快就会看到共识层和执行层的新轻客户端。 一些潜在的途径可在<a href="https://www.ethportal.net/">广播网络(opens in a new tab)</a>上提供轻客户端数据。 这些途径的优点在于，广播网络可以支持轻节点网络而不需要全节点来处理请求。</p>
<p>以太坊目前还不支持大量轻节点，但轻节点支持是一个有望在不久的将来快速发展的领域。 特别是像 <a href="https://nimbus.team/">Nimbus(opens in a new tab)</a>、<a href="https://github.com/a16z/helios">Helios(opens in a new tab)</a> 以及 <a href="https://lodestar.chainsafe.io/">LodeStar(opens in a new tab)</a> 这样的客户端目前都非常关注轻节点。</p>
<h3 id="三种节点的对比："><a href="#三种节点的对比：" class="headerlink" title="三种节点的对比："></a>三种节点的对比：</h3><table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>轻节点</strong></th>
<th><strong>全节点</strong></th>
<th><strong>归档节点</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>数据存储</strong></td>
<td>仅区块头（摘要信息）</td>
<td>最新状态数据（定期修剪旧数据）</td>
<td>全部历史数据（从创世块起，无修剪）</td>
</tr>
<tr>
<td><strong>区块验证</strong></td>
<td>不验证全区块，依赖全节点数据</td>
<td>逐块验证（从创世或快照开始）</td>
<td>从创世块验证全部区块</td>
</tr>
<tr>
<td><strong>历史状态访问</strong></td>
<td>通过全节点请求</td>
<td>可生成最近128块状态，旧数据可重建</td>
<td>直接访问所有历史状态</td>
</tr>
<tr>
<td><strong>磁盘需求</strong></td>
<td>极低（MB级）</td>
<td>中等（GB级，定期清理）</td>
<td>极高（TB级）</td>
</tr>
<tr>
<td><strong>参与共识</strong></td>
<td>否（不能挖矿/验证）</td>
<td>是（支持网络验证）</td>
<td>是（支持网络验证）</td>
</tr>
<tr>
<td><strong>典型用途</strong></td>
<td>手机、嵌入式设备，轻量访问</td>
<td>网络服务、数据提供</td>
<td>区块浏览器、链分析、历史查询</td>
</tr>
<tr>
<td><strong>同步速度</strong></td>
<td>快（仅下载头部）</td>
<td>中等（可选快照加速）</td>
<td>慢（全历史验证）</td>
</tr>
<tr>
<td><strong>发展前景</strong></td>
<td>活跃（如Nimbus、Helios）</td>
<td>稳定成熟</td>
<td>特定需求支持</td>
</tr>
</tbody></table>
<h2 id="为什么应该运行以太坊节点？"><a href="#为什么应该运行以太坊节点？" class="headerlink" title="为什么应该运行以太坊节点？"></a>为什么应该运行以太坊节点？</h2><p>运行节点可以让你直接以去信任方式私密地使用以太坊，同时通过保持网络更加稳健和去中心化来支持网络。</p>
<h3 id="对你的好处"><a href="#对你的好处" class="headerlink" title="对你的好处"></a>对你的好处</h3><p>运行你自己的节点使你能够以私密、自给自足的去信任方式使用以太坊。 你去信任网络，因为你可以使用自己的客户端验证数据。 “不要信任，直接验证”是一句在区块链领域非常流行的口头禅。</p>
<ul>
<li>你的节点根据共识规则独自验证所有交易和区块。 这意味着你不必依赖网络中的任何其他节点或完全信任它们。</li>
<li>你可以将以太坊钱包与你自己的节点一起使用。 你可以更安全、更私密地使用去中心化应用程序，因为你不必将地址和余额泄露给中间商。 你可以用自己的客户端检查所有内容。 <a href="https://metamask.io/">MetaMask(opens in a new tab)</a>、<a href="https://frame.sh/">Frame(opens in a new tab)</a> 和<a href="https://ethereum.org/zh/wallets/find-wallet/">许多其他钱包</a>提供远程过程调用导入，这让它们可以使用你的节点。</li>
<li>你可以运行和自我托管其他依赖于以太坊数据的服务。 例如，可以是信标链验证者、二层网络等软件、基础设施、区块浏览器、支付机构等。</li>
<li>你可以提供自己的自定义<a href="https://ethereum.org/zh/developers/docs/apis/json-rpc/">远程过程调用端点</a>。 你甚至可以公开地向社区提供这些端点，以帮助他们避免与大型中心化供应商合作。</li>
<li>你可以使用<strong>进程间通信 (IPC)</strong> 连接到节点，或者重写节点将你的程序作为插件加载。 这样可以减少网络延迟，例如在使用 web3 库处理大量数据时或者当你需要尽快替换交易时（即抢先交易）会带来很大帮助。</li>
<li>你可以直接质押以太币以保护网络并获得奖励。 请参见<a href="https://ethereum.org/zh/staking/solo/">单独质押</a>以便开始操作。</li>
</ul>
<p><a href="https://ethereum.org/content/developers/docs/nodes-and-clients/nodes.png"><img src="https://ethereum.org/_next/image/?url=%2Fcontent%2Fdevelopers%2Fdocs%2Fnodes-and-clients%2Fnodes.png&amp;w=1920&amp;q=75" alt="如何通过你的应用和节点访问以太坊"></a></p>
<h3 id="对网络的好处"><a href="#对网络的好处" class="headerlink" title="对网络的好处"></a>对网络的好处</h3><p>多样化的节点对于以太坊的健康、安全和运行弹性非常重要。</p>
<ul>
<li>全节点强制执行共识规则，因此无法欺骗它们接受不遵循规则的区块。 这在网络中提供了额外的安全性，因为如果所有节点都是轻节点，不进行完整验证，验证者可能会攻击网络。</li>
<li>如果遇到攻击并且攻破了<a href="https://ethereum.org/zh/developers/docs/consensus-mechanisms/pos/#what-is-pos">权益证明</a>加密经济防御，全节点可以执行社交恢复以选择跟随最诚实的链。</li>
<li>网络中的节点越多，网络就更加多样化和更加健壮，这是去中心化的最终目标，可实现一个抗审查的可靠系统。</li>
<li>全节点使依赖区块链数据的轻量级客户端能够访问这些数据。 轻节点不存储整条区块链，而是通过<a href="https://ethereum.org/zh/developers/docs/blocks/#block-anatomy">区块头中的状态根</a>验证数据。 如果有需要，它们可以向全节点请求更多信息。</li>
</ul>
<p>如果你运行一个全节点，整个以太坊网络都会从中受益，即使你没有运行验证者。</p>
<h2 id="运行你自己的节点"><a href="#运行你自己的节点" class="headerlink" title="运行你自己的节点"></a>运行你自己的节点</h2><p>是否有兴趣运行你自己的以太坊客户端？</p>
<p>如需适合初学者的简介，请访问我们的<a href="https://ethereum.org/zh/run-a-node/">运行节点</a>页面以了解更多信息。</p>
<p>如果你是精通技术的用户，请深入了解有关如何<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/run-a-node/">启动你自己的节点</a>的更多详细信息和选项。</p>
<h2 id="替代方法"><a href="#替代方法" class="headerlink" title="替代方法"></a>替代方法</h2><p>设置自己的节点会耗费你的时间和资源，但你并非总是需要运行自己的实例。 在这种情况下，你可以使用第三方应用程序接口提供商。 有关使用这些服务的概述，请查看<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/nodes-as-a-service/">节点即服务</a>。</p>
<p>如果有人在你的社区中运行带有公共应用程序接口的以太坊节点，你可以通过自定义的远程过程调用将你的钱包指向一个社区节点，并获得比一些随机的可信第三方更多的隐私保护。</p>
<p>另一方面，如果你运行一个客户端，可以与可能需要它的朋友共享。</p>
<h2 id="执行客户端"><a href="#执行客户端" class="headerlink" title="执行客户端"></a>执行客户端</h2><p>以太坊社区维护着多种开源的执行客户端（以前名为“以太坊 1 客户端”，或直接被称为“以太坊客户端”），它们由不同的团队使用不同的编程语言开发。 这使得网络更强大、更<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/client-diversity/">多样化</a>。 它的理想目标是实现多样性，即没有任何客户端占据主导地位，从而减少任何单点故障。</p>
<p>下表汇总了不同的客户端。 这些客户端均通过<a href="https://github.com/ethereum/tests">客户端测试(opens in a new tab)</a>并得到积极维护，以保持与网络升级同步。</p>
<table>
<thead>
<tr>
<th>客户端</th>
<th>语言</th>
<th>操作系统：</th>
<th>网络</th>
<th>同步策略</th>
<th>状态缓冲</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://geth.ethereum.org/">Geth(opens in a new tab)</a></td>
<td>Go</td>
<td>Linux、Windows、macOS</td>
<td>主网、Sepolia、Holesky</td>
<td><a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#snap-sync">快照</a>、<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#full-sync">完全</a></td>
<td>Archive、Pruned</td>
</tr>
<tr>
<td><a href="https://www.nethermind.io/">Nethermind(opens in a new tab)</a></td>
<td>C#、.NET</td>
<td>Linux、Windows、macOS</td>
<td>主网、Sepolia、Holesky</td>
<td><a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#snap-sync">快照</a>（不提供服务）、快速、<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#full-sync">完全</a></td>
<td>Archive、Pruned</td>
</tr>
<tr>
<td><a href="https://besu.hyperledger.org/en/stable/">Besu(opens in a new tab)</a></td>
<td>Java</td>
<td>Linux、Windows、macOS</td>
<td>主网、Sepolia、Holesky</td>
<td><a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#snap-sync">快照</a>、<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#fast-sync">快速</a>、<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#full-sync">完全</a></td>
<td>Archive、Pruned</td>
</tr>
<tr>
<td><a href="https://github.com/ledgerwatch/erigon">Erigon(opens in a new tab)</a></td>
<td>Go</td>
<td>Linux、Windows、macOS</td>
<td>主网、Sepolia、Holesky</td>
<td><a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#full-sync">完全</a></td>
<td>Archive、Pruned</td>
</tr>
<tr>
<td><a href="https://reth.rs/">Reth(opens in a new tab)</a></td>
<td>Rust语言</td>
<td>Linux、Windows、macOS</td>
<td>主网、Sepolia、Holesky</td>
<td><a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#full-sync">完全</a></td>
<td>Archive、Pruned</td>
</tr>
<tr>
<td><a href="https://github.com/ethereumjs/ethereumjs-monorepo">EthereumJS(opens in a new tab)</a><em>（测试版）</em></td>
<td>TypeScript</td>
<td>Linux、Windows、macOS</td>
<td>Sepolia、Holesky</td>
<td><a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#full-sync">完全</a></td>
<td>修剪</td>
</tr>
</tbody></table>
<p>有关受支持网络的更多信息，请仔细阅读<a href="https://ethereum.org/zh/developers/docs/networks/">以太坊网络</a>。</p>
<p>每种客户端都有独特的用例和优势，所以你应该根据自己的偏好来选择。 多样性使得实现能够侧重于不同的功能和用户群。 你可能想根据功能、支持、编程语言或许可证选择一种客户端。</p>
<h3 id="Besu"><a href="#Besu" class="headerlink" title="Besu"></a>Besu</h3><p>Hyperledger Besu 是一种企业级以太坊客户端，面向公共网络和许可网络。 它运行所有以太坊主网功能（从追踪到 GraphQL），可进行大范围监控，并通过开放的社区渠道和企业级商用服务等级协议获得 ConsenSys 支持。 Besu 用 Java 语言编写，并依照 Apache 2.0 获得许可。</p>
<p>Besu 提供内容丰富的<a href="https://besu.hyperledger.org/en/stable/">文档(opens in a new tab)</a>，以指导你了解有关其功能和设置的所有详细信息。</p>
<h3 id="Erigon"><a href="#Erigon" class="headerlink" title="Erigon"></a>Erigon</h3><p>Erigon 以前称为 Turbo‐Geth，最初是 Go Ethereum 的一个分叉，注重速度和磁盘空间效率。 它是一种完全重新设计的以太坊实现，目前用 Go 语言编写，但以其他语言编写的实现也在开发中。 Erigon 的目标是成为更快、模块化程度更高和更优化的以太坊实现。 它可以在 3 天内使用大约 2TB 的磁盘空间执行完整的存档节点同步。</p>
<h3 id="Go-Ethereum"><a href="#Go-Ethereum" class="headerlink" title="Go Ethereum"></a>Go Ethereum</h3><p>Go Ethereum（简称 Geth）是以太坊协议的原始实现之一。 目前，它是使用最为广泛的客户端，拥有最大的用户群，为用户和开发者提供各种工具。 Geth 用 Go 语言编写，完全开源，并依照 GNU LGPL v3 获得许可。</p>
<p>在<a href="https://geth.ethereum.org/docs/">相关文档(opens in a new tab)</a>中了解有关 Geth 的更多信息。</p>
<h3 id="Nethermind"><a href="#Nethermind" class="headerlink" title="Nethermind"></a>Nethermind</h3><p>Nethermind 是使用 C# .NET 技术栈创建的以太坊实现，依照 LGPL-3.0 获得许可，可在包括 ARM 在内的所有主要平台上运行。 它的优越性能体现在：</p>
<ul>
<li>优化虚拟机</li>
<li>状态访问</li>
<li>联网和丰富的功能，如 Prometheus/Grafana 仪表板、seq 企业日志支持、JSON-RPC 跟踪和分析插件。</li>
</ul>
<p>Nethermind 也有<a href="https://docs.nethermind.io/">详细的相关文档(opens in a new tab)</a>、强大的开发支持、在线社区，并为高级用户提供全天候支持。</p>
<h3 id="Reth"><a href="#Reth" class="headerlink" title="Reth"></a>Reth</h3><p>Reth（Rust 以太坊的简称）是一个以太坊全节点实现，专注于用户友好、高度模块化、高速度和高效率。 Reth 一开始由 Paradigm 开发和推动，并依照 Apache 和 MIT 许可证授权。</p>
<p>Reth 已达到生产就绪，适用于质押或高正常运行时间服务之类的关键任务环境。 在需要大裕度高性能保证的使用案例中表现良好，例如远程过程调用、最大可提取价值、索引、模拟和对等网络活动。</p>
<p>查看 <a href="https://reth.rs/">Reth Book(opens in a new tab)</a> 或 <a href="https://github.com/paradigmxyz/reth?tab=readme-ov-file#reth">Reth GitHub 仓库(opens in a new tab)</a>了解更多信息。</p>
<h3 id="开发中的客户端"><a href="#开发中的客户端" class="headerlink" title="开发中的客户端"></a>开发中的客户端</h3><p>以下客户端仍处于早期开发阶段，尚不建议用于生产。</p>
<h4 id="EthereumJS"><a href="#EthereumJS" class="headerlink" title="EthereumJS"></a>EthereumJS</h4><p>EthereumJS 执行客户端 (EthereumJS) 是用 TypeScript 编写的，由许多包组成，包括由区块、交易和默克尔帕特里夏树类表示的核心以太坊原语和核心客户端组件（包括以太坊虚拟机 (EVM) 的实现、区块链类和 DevP2P 网络堆栈）。</p>
<p>通过阅读其<a href="https://github.com/ethereumjs/ethereumjs-monorepo/tree/master">相关文档(opens in a new tab)</a>了解更多信息</p>
<h2 id="共识客户端"><a href="#共识客户端" class="headerlink" title="共识客户端"></a>共识客户端</h2><p>有多种共识客户端（以前称为“以太坊 2 客户端”）支持<a href="https://ethereum.org/zh/roadmap/beacon-chain/">共识升级</a>。 它们负责所有共识相关的逻辑，包括分叉选择算法、处理认证与管理<a href="https://ethereum.org/zh/developers/docs/consensus-mechanisms/pos/">权益证明</a>奖励及惩罚。</p>
<table>
<thead>
<tr>
<th>客户端</th>
<th>语言</th>
<th>操作系统：</th>
<th>网络</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://lighthouse.sigmaprime.io/">Lighthouse(opens in a new tab)</a></td>
<td>Rust</td>
<td>Linux、Windows、macOS</td>
<td>信标链、Goerli、Pyrmont、Sepolia、Ropsten 等</td>
</tr>
<tr>
<td><a href="https://lodestar.chainsafe.io/">Lodestar(opens in a new tab)</a></td>
<td>TypeScript</td>
<td>Linux、Windows、macOS</td>
<td>信标链、Goerli、Sepolia、Ropsten 等</td>
</tr>
<tr>
<td><a href="https://nimbus.team/">Nimbus(opens in a new tab)</a></td>
<td>Nim</td>
<td>Linux、Windows、macOS</td>
<td>信标链、Goerli、Sepolia、Ropsten 等</td>
</tr>
<tr>
<td><a href="https://docs.prylabs.network/docs/getting-started/">Prysm(opens in a new tab)</a></td>
<td>Go</td>
<td>Linux、Windows、macOS</td>
<td>信标链、Gnosis、Goerli、Pyrmont、Sepolia、Ropsten 等</td>
</tr>
<tr>
<td><a href="https://consensys.net/knowledge-base/ethereum-2/teku/">Teku(opens in a new tab)</a></td>
<td>Java</td>
<td>Linux、Windows、macOS</td>
<td>信标链、Gnosis、Goerli、Sepolia、Ropsten 等</td>
</tr>
<tr>
<td><a href="https://docs.grandine.io/">Grandine(opens in a new tab)</a>（测试版）</td>
<td>Rust语言</td>
<td>Linux、Windows、macOS</td>
<td>信标链、Goerli、Sepolia 等</td>
</tr>
</tbody></table>
<h3 id="Lighthouse"><a href="#Lighthouse" class="headerlink" title="Lighthouse"></a>Lighthouse</h3><p>Lighthouse 是一种共识客户端实现，它用 Rust 语言编写，并依照 Apache-2.0 获得许可。 它由 Sigma Prime 维护，自信标链创世以来一直保持稳定且可直接投入生产。 各类企业、质押池和个人都依赖它。 从台式电脑到复杂的自动化部署，Lighthouse 的目标是在各种环境中实现安全、高性能和互操作性。</p>
<p>你可以在 <a href="https://lighthouse-book.sigmaprime.io/">Lighthouse 手册(opens in a new tab)</a>中找到相关文档。</p>
<h3 id="Lodestar"><a href="#Lodestar" class="headerlink" title="Lodestar"></a>Lodestar</h3><p>Lodestar 是一种生产就绪型共识客户端实现，它用 Typescript 语言编写，并依照 LGPL-3.0 获得许可。 它由 ChainSafe Systems 维护，是面向单独质押人、开发者和研究人员的最新共识客户端。 Lodestar 由信标节点和验证者客户端组成，并由以太坊协议的 JavaScript 实现提供支持。 Lodestar 旨在通过轻客户端提高以太坊的可用性，为更多开发者扩展可访问性，并进一步提高生态系统多样性。</p>
<p>你可以在 <a href="https://lodestar.chainsafe.io/">Lodestar 网站(opens in a new tab)</a>上了解更多信息。</p>
<h3 id="Nimbus"><a href="#Nimbus" class="headerlink" title="Nimbus"></a>Nimbus</h3><p>Nimbus 是一种共识客户端实现，它用 Nim 语言编写，并依照 Apache-2.0 获得许可。 它是一种供单独质押人和质押池使用的生产就绪型客户端。 Nimbus 专为提高资源效率而设计，可同样轻松地在资源有限的设备和企业级基础设施上运行，并且不会影响稳定性或奖励性能。 更少的资源占用意味着客户端在网络处于压力下时具有更大的安全边际。</p>
<p>在 <a href="https://nimbus.guide/">Nimbus 相关文档(opens in a new tab)</a>中了解更多信息</p>
<h3 id="Prysm"><a href="#Prysm" class="headerlink" title="Prysm"></a>Prysm</h3><p>Prysm 是一种功能齐全的开源共识客户端，它用 Go 语言编写，并依照 GPL-3.0 获得许可。 它具有可选的 Web 应用程序用户界面，并将单独质押人和机构用户的用户体验、相关文档和可配置性放在首位。</p>
<p>访问 <a href="https://docs.prylabs.network/docs/getting-started/">Prysm 相关文档(opens in a new tab)</a>以了解更多信息。</p>
<h3 id="Teku"><a href="#Teku" class="headerlink" title="Teku"></a>Teku</h3><p>Teku 是最早的信标链创世客户端之一。 除了常规目标（安全性、稳健性、稳定性、可用性、性能）外，Teku 还特别致力于恪守全部各类共识客户端标准。</p>
<p>Teku 提供了非常灵活的部署选项。 信标节点和验证者客户端可以作为单个进程一起运行，这对于单独质押人来说非常方便；或者在处理复杂的质押操作时，节点也可以各自运行。 此外，Teku 实现了与 <a href="https://github.com/ConsenSys/web3signer/">Web3Signer(opens in a new tab)</a> 的完全互操作性，用于为密钥安全性签名并提供罚没防范措施。</p>
<p>Teku 用 Java 语言编写，并依照 Apache 2.0 获得许可。 它由 ConsenSys 的 Protocols 团队开发，该团队还要对 Besu 和 Web3Signer 负责。 在 <a href="https://docs.teku.consensys.net/en/latest/">Teku 相关文档(opens in a new tab)</a>中了解更多信息。</p>
<h3 id="Grandine"><a href="#Grandine" class="headerlink" title="Grandine"></a>Grandine</h3><p>Grandine 是一种依据 GPL-3.0 许可的共识客户端实现，使用 Rust 语言编写。 它由 Grandine 核心团队维护，快速、高效且轻量。 它适合各种类型的质押者，从运行低资源设备（如树莓派设备）的单独质押者，到运行数万个验证者的机构质押者。</p>
<p>你可以在 <a href="https://docs.grandine.io/">Grandine 手册(opens in a new tab)</a>中找到相关文档</p>
<h2 id="同步模式"><a href="#同步模式" class="headerlink" title="同步模式"></a>同步模式</h2><p>为了追踪和验证网络中的最新数据，以太坊客户端需要与最新网络状态同步。 同步方法如下：从对等节点下载数据，用加密方法验证其完整性，并构建一个本地区块链数据库。</p>
<p>同步模式代表了这个过程的不同方法，并进行了不同的折衷。 客户端在实现同步算法方面也各不相同。 有关实现的具体细节，请参考你所选客户端的官方文档。</p>
<h3 id="执行层同步模式"><a href="#执行层同步模式" class="headerlink" title="执行层同步模式"></a>执行层同步模式</h3><p>执行层可以在不同的模式下运行，以适应不同的使用案例，从重新执行区块链的世界状态到只从可信检查点同步链的小费。</p>
<h4 id="完全同步"><a href="#完全同步" class="headerlink" title="完全同步"></a>完全同步</h4><p>完全同步会下载所有区块（包括区块头和区块体），并通过执行自创世块以来的每个区块，以增量方式重新生成区块链的状态。</p>
<ul>
<li>通过验证每笔交易，最大限度地减少信任并实现最高安全性。</li>
<li>随着交易数量的增加，处理所有交易可能需要几天到几周时间。</li>
</ul>
<p><a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#archive-node">存档节点</a>会执行完全同步，以构建（并保留）每个区块中每笔事务所做的状态更改的完整历史记录。</p>
<h4 id="快速同步"><a href="#快速同步" class="headerlink" title="快速同步"></a>快速同步</h4><p>与完全同步一样，快速同步会下载所有区块（包括区块头、交易和收据）。 不过，快速同步并不重新处理历史交易，而是依赖收据，直至到达最近的头部时，再切换到导入和处理区块，以提供一个完整的节点。</p>
<ul>
<li>快速同步策略。</li>
<li>降低处理需求以减少带宽使用。</li>
</ul>
<h4 id="快照同步"><a href="#快照同步" class="headerlink" title="快照同步"></a>快照同步</h4><p>快照同步同样是逐块验证链。 不同的是，快照同步不是从创世区块开始，而是从一个最近的已知为真实区块链一部分的受信任检查点开始。 节点会定期保存检查点，同时删除早于某个时间的数据。 这些快照被用于在需要时重新生成状态数据，而不是永久储存它。</p>
<ul>
<li>最快的同步策略，目前是以太坊主网的默认策略。</li>
<li>节省大量磁盘空间和网络带宽，同时不牺牲安全性。</li>
</ul>
<p><a href="https://github.com/ethereum/devp2p/blob/master/caps/snap.md">关于快照同步的更多信息(opens in a new tab)</a>。</p>
<h4 id="轻量同步"><a href="#轻量同步" class="headerlink" title="轻量同步"></a>轻量同步</h4><p>轻客户端模式下载所有区块头和区块数据，并对其中一些进行随机验证。 仅从可信的检查点同步链的头部。</p>
<ul>
<li>仅获取最新状态，同时依赖于对开发者和共识机制的信任。</li>
<li>客户端在几分钟内便可以使用当前网络状态。</li>
</ul>
<p><strong>注意</strong>：轻量同步暂不支持权益证明以太坊，新版本轻量同步应该很快就会发布！</p>
<h4 id="四种同步模式的总结："><a href="#四种同步模式的总结：" class="headerlink" title="四种同步模式的总结："></a>四种同步模式的总结：</h4><h2 id="执行层同步模式-1"><a href="#执行层同步模式-1" class="headerlink" title="执行层同步模式"></a>执行层同步模式</h2><table>
<thead>
<tr>
<th><strong>模式</strong></th>
<th><strong>数据下载</strong></th>
<th><strong>验证方式</strong></th>
<th><strong>速度</strong></th>
<th><strong>安全性</strong></th>
<th><strong>存储需求</strong></th>
<th><strong>适用场景</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>完全同步</strong></td>
<td>所有区块（头+体）</td>
<td>从创世块逐笔验证交易</td>
<td>慢（几天到几周）</td>
<td>最高（最小信任）</td>
<td>高（存档保留全历史）</td>
<td>存档节点，最大安全性</td>
</tr>
<tr>
<td><strong>快速同步</strong></td>
<td>所有区块（头+体+收据）</td>
<td>下载收据至头部后验证</td>
<td>中等</td>
<td>高</td>
<td>中等（不存全历史）</td>
<td>全节点，平衡效率</td>
</tr>
<tr>
<td><strong>快照同步</strong></td>
<td>所有区块，从检查点开始</td>
<td>从可信检查点验证，定期修剪</td>
<td>最快（默认）</td>
<td>高</td>
<td>低（节省空间）</td>
<td>主网默认，节省资源</td>
</tr>
<tr>
<td><strong>轻量同步</strong></td>
<td>区块头+部分数据</td>
<td>随机验证，从检查点同步头部</td>
<td>极快（几分钟）</td>
<td>中等（依赖信任）</td>
<td>极低</td>
<td>轻节点，快速接入</td>
</tr>
</tbody></table>
<p><a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/light-clients/">关于轻客户端的更多信息</a></p>
<h3 id="共识层同步模式"><a href="#共识层同步模式" class="headerlink" title="共识层同步模式"></a>共识层同步模式</h3><h4 id="乐观同步"><a href="#乐观同步" class="headerlink" title="乐观同步"></a>乐观同步</h4><p>乐观同步是一种合并后同步策略，专为选择加入和向后兼容而设计，允许执行节点通过已确立的方法进行同步。 执行引擎可以在不进行完全验证的情况下<em>乐观地</em>导入信标区块，找到最新区块头，然后使用上述方法开始同步链。 接着，在执行客户端更新之后，它将通知共识客户端信标链中交易的有效性。</p>
<p><a href="https://github.com/ethereum/consensus-specs/blob/dev/sync/optimistic.md">关于乐观同步的更多信息(opens in a new tab)</a></p>
<h4 id="检查点同步"><a href="#检查点同步" class="headerlink" title="检查点同步"></a>检查点同步</h4><p>检查点同步也称为“弱主观性同步”，在同步信标节点时可提供卓越的用户体验。 它基于<a href="https://ethereum.org/zh/developers/docs/consensus-mechanisms/pos/weak-subjectivity/">弱主观性</a>假设，因而能够从最近的弱主观性检查点而不是从创世块同步信标链。 检查点同步可大幅加快初始同步速度，其信任假设与从创世块同步时类似。</p>
<p>在实践中，这意味着你的节点会连接到远程服务，以下载最近的最终确定状态并从该点继续验证数据。 提供数据的第三方会受到信任，因此要谨慎选择。</p>
<h2 id="节点架构"><a href="#节点架构" class="headerlink" title="节点架构"></a>节点架构</h2><p>当以太坊使用<a href="https://ethereum.org/zh/developers/docs/consensus-mechanisms/pow/">工作量证明</a>时，执行客户端足以运行以太坊全节点。 然而，在实施<a href="https://ethereum.org/zh/developers/docs/consensus-mechanisms/pow/">权益证明</a>以后，执行客户端需要与另一种名为<a href="https://ethereum.org/zh/developers/docs/nodes-and-clients/#consensus-clients">“共识客户端”</a>的软件搭配使用。</p>
<p>以下图表显示了两种以太坊客户端之间的关系。 这两种客户端与其各自的点对点（对等）网络连接。 分离对等网络是有必要的，因为执行客户端通过它们的对等网络广播交易，确保它们能够管理自己的本地交易池，同时共识客户端通过它们的对等网络广播区块，保证共识和链增长。</p>
<p><a href="https://ethereum.org/content/developers/docs/nodes-and-clients/node-architecture/node-architecture-text-background.png"><img src="https://ethereum.org/_next/image/?url=%2Fcontent%2Fdevelopers%2Fdocs%2Fnodes-and-clients%2Fnode-architecture%2Fnode-architecture-text-background.png&amp;w=1920&amp;q=75" alt="img"></a></p>
<p>要使这种双客户端结构发挥作用，共识客户端必须能够将大量交易传递给执行客户端。 在本地执行交易是客户端验证交易未违反任何以太坊规则的方式，并确保提议的以太坊状态更新是正确的。 同样，当节点被选为区块生产者时，共识客户端必须能够从 Geth 请求各种交易，以便将它们添加到新的区块，并通过执行它们来更新全局状态。 本地远程过程调用连接使用<a href="https://github.com/ethereum/execution-apis/blob/main/src/engine/common.md">引擎应用程序接口(opens in a new tab)</a>处理这种跨客户端通信。</p>
<h2 id="执行客户端的作用是什么？"><a href="#执行客户端的作用是什么？" class="headerlink" title="执行客户端的作用是什么？"></a>执行客户端的作用是什么？</h2><p>执行客户端负责交易处理、交易广播、状态管理和支持以太坊虚拟机（<a href="https://ethereum.org/zh/developers/docs/evm/">以太坊虚拟机</a>）。 然而，它<strong>不</strong>负责区块构建、区块广播或处理共识逻辑。 这些都是共识客户端的责任。</p>
<p>执行客户端会创建执行有效负载——交易列表、更新状态树和其他与执行相关的数据。 共识客户端在每个区块中添加执行有效负载。 执行客户端还要在新的区块中重新执行交易，以确保其有效性。 执行交易在执行客户端的嵌入式计算机中完成，这些计算机被称为<a href="https://ethereum.org/zh/developers/docs/evm/">以太坊虚拟机 (EVM)</a>。</p>
<p>执行客户端还通过<a href="https://ethereum.org/zh/developers/docs/apis/json-rpc/">远程过程调用方法</a>提供用户界面，让用户可以查询以太坊区块链、提交交易和部署智能合约。 远程过程调用通常由 <a href="https://docs.web3js.org/">Web3js(opens in a new tab)</a>、<a href="https://web3py.readthedocs.io/en/v5/">Web3py(opens in a new tab)</a> 这样的库处理，或者由浏览器钱包等用户界面处理。</p>
<p>简而言之，执行客户端是：</p>
<ul>
<li>以太坊的用户网关</li>
<li>托管以太坊虚拟机、以太坊状态和交易池的地方。</li>
</ul>
<h2 id="共识客户端的作用是什么？"><a href="#共识客户端的作用是什么？" class="headerlink" title="共识客户端的作用是什么？"></a>共识客户端的作用是什么？</h2><p>共识客户端处理使节点与以太坊网络保持同步的全部逻辑。 这包括从对等节点接收区块并运行分叉选择算法，从而确保节点始终遵循累积证明最多的链（由验证者有效余额加权计算而得）。 与执行客户端相似，共识客户端拥有自己的对等网络并通过该网络共享区块和认证。</p>
<p>共识客户端不参与对区块的证明或提议——这是由验证者完成的，而验证者是共识客户端的一种可选附加组件。 没有验证者的共识客户端只会追踪链头，使节点保持同步。 因此，用户可以使用其执行客户端与以太坊进行交易，并确信它们在正确的链上。</p>
<h2 id="验证者"><a href="#验证者" class="headerlink" title="验证者"></a>验证者</h2><p>节点运营商可以在存款合约中存入 32 个以太币来为其共识客户端添加一个验证者。 验证者客户端与共识客户端捆绑在一起，并且可随时添加到节点中。 验证者会处理认证和区块提议。 它们使节点能够累积奖励或因为惩罚而丢失以太币。 运行验证者软件还使节点有资格被选中来提议一个新区块。</p>
<p><a href="https://ethereum.org/zh/staking/">关于质押的更多信息</a>。</p>
<h2 id="节点组件比较"><a href="#节点组件比较" class="headerlink" title="节点组件比较"></a>节点组件比较</h2><table>
<thead>
<tr>
<th>执行客户端</th>
<th>共识客户端</th>
<th>验证者</th>
</tr>
</thead>
<tbody><tr>
<td>通过其对等网络广播交易</td>
<td>通过其对等网络广播区块和认证</td>
<td>提议区块</td>
</tr>
<tr>
<td>执行/重新执行交易</td>
<td>运行分叉选择算法</td>
<td>累积奖励/惩罚</td>
</tr>
<tr>
<td>验证传入的状态更改</td>
<td>追踪链头</td>
<td>认证</td>
</tr>
<tr>
<td>管理状态和收据树</td>
<td>管理信标状态（包含共识和执行信息）</td>
<td>需要质押 32 个以太币</td>
</tr>
<tr>
<td>创建执行有效负载</td>
<td>跟踪 RanDAO 中累积的随机性</td>
<td>可被罚没</td>
</tr>
<tr>
<td>公开 JSON-RPC 应用程序接口以便与以太坊交互</td>
<td>追踪合理化和最终确定</td>
<td></td>
</tr>
</tbody></table>
<p>以太坊节点的行为是由其运行的客户端软件控制的。 有一些生产级的以太坊客户端，每个都是由不同的团队用不同的语言开发和维护。 这些客户端都是按照共同规范建立的，确保客户端相互之间无缝通信，具有相同的功能并提供一致的用户体验。 然而，目前各节点的客户端分布并不均匀，不足以发挥这种网络防御措施的全部潜力。 理想情况下，用户在各个客户端之间大致平均分布，以便在网络上最大程度地实现客户端多样性。</p>
<h2 id="为什么会有多种客户端？"><a href="#为什么会有多种客户端？" class="headerlink" title="为什么会有多种客户端？"></a>为什么会有多种客户端？</h2><p>存在多种独立开发和维护的客户端，是因为客户端多样性使网络在面对攻击和漏洞时恢复能力更强。 多种客户端是以太坊独有的优势，而其他区块链依赖于单一客户端的无误性。 然而，仅仅拥有多种可用的客户端是不够的，这些客户端必须被社区采用，并且全部活跃节点必须相对均匀地分布在它们之间。</p>
<h2 id="为什么客户端多样性很重要？"><a href="#为什么客户端多样性很重要？" class="headerlink" title="为什么客户端多样性很重要？"></a>为什么客户端多样性很重要？</h2><p>拥有许多独立开发和维护的客户端对于去中心化网络的健康至关重要。 让我们来探究其中的原因。</p>
<h3 id="漏洞"><a href="#漏洞" class="headerlink" title="漏洞"></a>漏洞</h3><p>当代表少数以太坊节点时，一种客户端中的漏洞对网络的风险较小。 由于许多客户端的节点分布大致均匀，大多数客户端出现同一问题的可能性很小，因此网络更加稳健。</p>
<h3 id="抵御攻击"><a href="#抵御攻击" class="headerlink" title="抵御攻击"></a>抵御攻击</h3><p>客户端多样性还提供了抵御攻击的能力。 例如，要<a href="https://twitter.com/vdWijden/status/1437712249926393858">欺骗特定客户端(opens in a new tab)</a>让其接受链的某条分支，这种攻击不太可能成功，因为不大可能以相同方式利用其他客户端，并且规范链未损坏。 客户端多样性程度低增加了主要客户端受到黑客攻击的风险。 已经证实，客户端多样性是抵御网络受到恶意攻击的重要防御手段，例如，由于攻击者能够欺骗主要客户端 (Geth) 对每个区块执行数万次慢速磁盘输入/输出操作，2016 年的上海拒绝服务攻击得以实施。 由于有其他客户端在线且没有同样的漏洞，因此以太坊能够抵抗那次攻击并继续运行，同时修复了 Geth 中的漏洞。</p>
<h3 id="权益证明的最终确定性"><a href="#权益证明的最终确定性" class="headerlink" title="权益证明的最终确定性"></a>权益证明的最终确定性</h3><p>超过 33% 的以太坊节点的共识客户端中有一个漏洞，它可能会阻止共识层的最终确定，这意味着用户无法相信交易不会在某些时候被回滚或更改。 对于许多建立在以太坊之上的应用程序，尤其是去中心化金融，这将是一个很大的问题。</p>
<p>更糟糕的是，当拥有三分之二多数节点的客户端出现严重漏洞，可能会导致链<a href="https://www.symphonious.net/2021/09/23/what-happens-if-beacon-chain-consensus-fails/">错误地分叉并最终确定(opens in a new tab)</a>，让大量验证者困陷在无效链上。 如果这些验证者想重新加入正确的链，他们将面临罚没或缓慢而昂贵的自愿退出和重新激活过程。 罚没的轻重随过错节点数量而异，三分之二的大多数将受到最严重的惩罚（32 个以太币）。</p>
<p>尽管这些情况不太可能发生，但为了降低这类风险，以太坊生态系统可以使客户端均衡分布在活跃节点上。 理想情况下，任何共识客户端任何时候都不会达到总节点数的 33%。</p>
<h3 id="共担责任"><a href="#共担责任" class="headerlink" title="共担责任"></a>共担责任</h3><p>采用主流客户端也需要人力成本。 这给小型开发团队带来了过多的压力和责任。 客户端多样性程度越低，维护主流客户端的开发者的责任负担就越大。 将这一责任分摊到多个团队，既有利于以太坊节点网络的健康，也有益于相关人员的健康。</p>
<h2 id="客户端多样性现状"><a href="#客户端多样性现状" class="headerlink" title="客户端多样性现状"></a>客户端多样性现状</h2><p><a href="https://ethereum.org/content/developers/docs/nodes-and-clients/client-diversity/client-diversity.png"><img src="https://ethereum.org/_next/image/?url=%2Fcontent%2Fdevelopers%2Fdocs%2Fnodes-and-clients%2Fclient-diversity%2Fclient-diversity.png&amp;w=1920&amp;q=75" alt="显示客户端多样性的饼状图"></a><em>图表数据来自 <a href="https://ethernodes.org/">ethernodes.org(opens in a new tab)</a> 和 <a href="https://clientdiversity.org/">clientdiversity.org(opens in a new tab)</a></em></p>
<p>上面的两个饼图显示了执行层和共识层客户端多样性现状的快照（在 2022 年 1 月撰写本文时）。 在执行层，<a href="https://geth.ethereum.org/">Geth(opens in a new tab)</a> 占据绝对主导地位，<a href="https://openethereum.github.io/">Open Ethereum (opens in a new tab)</a> 以极大的差距位居第二，<a href="https://github.com/ledgerwatch/erigon">Erigon(opens in a new tab)</a> 和 <a href="https://nethermind.io/">Nethermind(opens in a new tab)</a> 分别占据第三和第四，其他客户端加起来占网络的比例不到 1%。 共识层最常用的客户端 <a href="https://prysmaticlabs.com/#projects">Prysm(opens in a new tab)</a> 不像 Geth 那样占据绝对主导地位，但仍占有网络的 60% 以上。 <a href="https://lighthouse.sigmaprime.io/">Lighthouse(opens in a new tab)</a> 和 <a href="https://consensys.net/knowledge-base/ethereum-2/teku/">Teku(opens in a new tab)</a> 分别占据约 20% 和约 14%，其他客户端很少使用。</p>
<p>2022 年 1 月 23 日，从 <a href="https://ethernodes.org/">Ethernodes(opens in a new tab)</a> 获得执行层数据。 共识客户端的数据来自 <a href="https://github.com/sigp/blockprint">Michael Sproul(opens in a new tab)</a>。 共识客户端数据更难获取，因为共识层客户端并不总是具有可以用来识别它们的明确痕迹。 这些数据是使用分类算法生成的，该算法有时会混淆一些非主流客户端（点击<a href="https://twitter.com/sproulM_/status/1440512518242197516">此处(opens in a new tab)</a>了解更多详细信息）。 在上图中，这些含糊的分类使用了“/”符号进行处理（例如 Nimbus/Teku）。 尽管如此，很明显大部分网络都在运行 Prysm。 这些数据是一组固定区块的快照（在本例中为时隙 2048001 与 2164916 之间的信标区块），Prysm 的主导地位曾经一度更高，超过 68%。 尽管只是快照，但上图中的数值可以让你清晰地了解客户端多样性现状的全局。</p>
<p>现在，可以在 <a href="https://clientdiversity.org/">clientdiversity.org(opens in a new tab)</a> 查阅最新的共识层客户端多样性数据。</p>
<h2 id="执行层"><a href="#执行层" class="headerlink" title="执行层"></a>执行层</h2><p>迄今为止，围绕客户端多样性进行的对话主要集中在共识层。 然而，执行客户端 <a href="https://geth.ethereum.org/">Geth(opens in a new tab)</a> 目前约占所有节点的 85%。 这一百分比是有问题的，原因与共识客户端一样。 例如，Geth 中影响交易处理或造成执行负载的漏洞，可能导致共识客户端最终确定有问题或有漏洞的交易。 因此，如果执行客户端分布更均匀，以太坊会更健康。理想情况是所有客户端占据的网络都不超过 33%。</p>
<h2 id="使用非主流客户端"><a href="#使用非主流客户端" class="headerlink" title="使用非主流客户端"></a>使用非主流客户端</h2><p>解决客户端多样性问题不仅需要个人用户选择非主流客户端，还需要矿池/验证者池以及主要去中心应用程序和交易所等机构改用客户端。 然而，所有用户都可以尽一份力量，纠正目前的失衡状况并且实现所有可用以太坊软件的使用正常化。 合并后，所有节点运营商都需要运行执行客户端和共识客户端。 选择下面建议的客户端组合将有助于提高客户端多样性。</p>
<h3 id="执行客户端-1"><a href="#执行客户端-1" class="headerlink" title="执行客户端"></a>执行客户端</h3><p><a href="https://www.hyperledger.org/use/besu">Besu(opens in a new tab)</a></p>
<p><a href="https://downloads.nethermind.io/">Nethermind(opens in a new tab)</a></p>
<p><a href="https://github.com/ledgerwatch/erigon">Erigon(opens in a new tab)</a></p>
<p><a href="https://geth.ethereum.org/">Go-Ethereum(opens in a new tab)</a></p>
<h3 id="共识客户端-1"><a href="#共识客户端-1" class="headerlink" title="共识客户端"></a>共识客户端</h3><p><a href="https://nimbus.team/">Nimbus(opens in a new tab)</a></p>
<p><a href="https://github.com/sigp/lighthouse">Lighthouse(opens in a new tab)</a></p>
<p><a href="https://consensys.net/knowledge-base/ethereum-2/teku/">Teku(opens in a new tab)</a></p>
<p><a href="https://github.com/ChainSafe/lodestar">Lodestar(opens in a new tab)</a></p>
<p><a href="https://docs.prylabs.network/docs/getting-started">Prysm(opens in a new tab)</a></p>
<p>技术用户可以为非主流客户端编写更多教程和相关文档，并鼓励他们运营节点的对等体从主流客户端迁离，帮助加快这一进程。 <a href="https://clientdiversity.org/">clientdiversity.org(opens in a new tab)</a> 提供了改用非主流共识客户端的指南。</p>
<h2 id="客户端多样性仪表板"><a href="#客户端多样性仪表板" class="headerlink" title="客户端多样性仪表板"></a>客户端多样性仪表板</h2><p>一些仪表板提供了执行层和共识层客户端多样性实时统计数据。</p>
<p><strong>共识层：</strong></p>
<ul>
<li><a href="https://www.rated.network/">Rated.network(opens in a new tab)</a></li>
<li><a href="https://clientdiversity.org/">clientdiversity.org(opens in a new tab)</a> <strong>执行层：</strong></li>
<li><a href="https://supermajority.info//">supermajority.info(opens in a new tab)</a></li>
<li>[Ethernodes(opens in a new tab)](</li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                           
                        </div>
                    
                </div>
                <div class="post_share"
                     style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
            <div class="article col s12 m6" data-aos="fade-up">
                <div class="article-badge left-badge text-color">
                    <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
                <div class="card">
                    <a href="/2025/03/06/ethqi-dong-zi-ji-de-yi-tai-fang-jie-dian/">
                        <div class="card-image">
                            
                                
                                <img src="/medias/featureimages/17.jpg" class="responsive-img" alt="ETH启动自己的以太坊节点">
                            
                            <span class="card-title">ETH启动自己的以太坊节点</span>
                        </div>
                    </a>
                    <div class="card-content article-content">
                        <div class="summary block-with-text">
                            
                                运行你自己的节点为你提供各种好处，打开新的可能性，并为支持生态系统提供帮助。 这个页面将引导你启动自己的节点，并参与验证以太坊交易。
注意，在合并之后，运行以太坊节点需要两种客户端，即执行层 (EL) 客户端和共识层 (CL) 客户端。 本
                            
                        </div>
                        <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2025-03-06
                        </span>
                            <span class="publish-author">
                                
                                    <i class="fa fa-bookmark fa-fw icon-category"></i>
                                    
                                        <a href="/categories/WEB3/" class="post-category">
                                    WEB3
                                </a>
                                    
                                
                            </span>
                        </div>
                    </div>
                    
                </div>
            </div>
        
        
            <div class="article col s12 m6" data-aos="fade-up">
                <div class="article-badge right-badge text-color">
                    下一篇&nbsp;<i class="fa fa-chevron-right"></i>
                </div>
                <div class="card">
                    <a href="/2025/03/05/ethzhong-de-ran-liao-he-fei-yong/">
                        <div class="card-image">
                            
                                
                                <img src="/medias/featureimages/19.jpg" class="responsive-img" alt="ETH中的燃料和费用">
                            
                            <span class="card-title">ETH中的燃料和费用</span>
                        </div>
                    </a>
                    <div class="card-content article-content">
                        <div class="summary block-with-text">
                            
                                Gas 对以太坊网络至关重要。 正是这种燃料使它能够运行，正如车辆需要汽油一样。
什么是燃料？燃料是指在以太坊网络上执行特定操作所需的计算工作量。
由于每笔以太坊交易都需要使用计算资源来执行，因此必须为这些资源付费，以确保以太坊不容易受到垃
                            
                        </div>
                        <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2025-03-05
                            </span>
                            <span class="publish-author">
                                
                                    <i class="fa fa-bookmark fa-fw icon-category"></i>
                                    
                                        <a href="/categories/WEB3/" class="post-category">
                                    WEB3
                                </a>
                                    
                                
                            </span>
                        </div>
                    </div>
                    
                </div>
            </div>
        
    </div>
</article>
</div>




<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

    <script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

    <script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->


<!-- 代码块折行 -->

    <style type="text/css">
        code[class*="language-"], pre[class*="language-"] {
            white-space: pre !important;
        }
    </style>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

    <div id="floating-toc-btn" class="hide-on-med-and-down">
        <a class="btn-floating btn-large bg-color">
            <i class="fa fa-list"></i>
        </a>
    </div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4, h5'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4, h5').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换 TOC 目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2022</span>
            <a href="/about" rel="external nofollow noreferrer">xinyichen</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a> 
            <br>
			 <span id="sitetime">载入运行时间...</span>
            
            
            
            
            <br>
            
			
			 
				&nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;<span
						class="white-color">460.9k</span>&nbsp;字
             
            

                
                <script>
                    function siteTime() {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2022";
                        var startMonth = "5";
                        var startDate = "26";
                        var startHour = "21";
                        var startMinute = "10";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);
                        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                            minutes);
                        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                            diffMinutes * minutes) / seconds);
                        if (startYear == todayYear) {
                            document.getElementById("year").innerHTML = todayYear;
                            document.getElementById("sitetime").innerHTML = "本站已运行 " + diffDays + " 天 " + diffHours +
                                " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays +
                                " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                        }
                    }

                    setInterval(siteTime, 1000);
                </script>
            

        </div>
        <!-- <div class="col s12 m4 l4 social-link ">

















</div> -->
    </div>
</footer>

<div class="progress-bar"></div>



<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<!-- 异步加载 search.js -->
<script src="/js/search.js"></script>

<!-- 延迟加载 search.xml -->
<script type="text/javascript">
    $(function () {
        // 延迟500毫秒加载搜索数据，避免阻塞页面加载
        setTimeout(function () {
            searchFunc("/search.xml", 'searchInput', 'searchResult');
        }, 500);
    });
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->


<!-- Baidu Analytics -->


<!-- Baidu Push -->


    <script src="/libs/others/clicklove.js" async="async"></script>




<script type="text/javascript">
    var OriginTitile = document.title,
        st;
    document.addEventListener("visibilitychange", function () {
        document.hidden ? (document.title = "(oﾟvﾟ)ノ Hi", clearTimeout(st)) : (document.title =
            "(*´∇｀*) 欢迎回来！", st = setTimeout(function () {
            document.title = OriginTitile
        }, 3e3))
    })
</script>

<!-- 在线聊天工具  -->



<!-- 背景 canvas-nest -->



    <script src="/libs/instantpage/instantpage.js" type="module"></script>


</body>
</html>